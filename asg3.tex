\documentclass{article}

% --- Styling, Fonts, and Layout ---
\usepackage[top=0.9in, bottom=1in, left=1.5in, right=1.5in]{geometry}
\usepackage[icelandic]{babel}
\usepackage[T1]{fontenc}
\usepackage[sc]{mathpazo}
\usepackage[parfill]{parskip}
\usepackage{xcolor}
\usepackage{booktabs,tabularx,adjustbox,multicol}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{graphicx}
\usepackage{listingsutf8}
\usepackage{enumitem}

% --- Code Block Colors ---
\definecolor{commentcolor}{RGB}{0, 128, 0}
\definecolor{keywordcolor}{RGB}{0, 0, 255}
\definecolor{stringcolor}{RGB}{163, 21, 21}
\definecolor{numbercolor}{RGB}{128, 0, 128}
\definecolor{identifiercolor}{RGB}{0, 0, 0}
\definecolor{graybg}{RGB}{245,245,245}

% --- JSON language definition for listings ---
\lstdefinelanguage{json}{
  basicstyle=\ttfamily\small,
  showstringspaces=false,
  breaklines=true,
  frame=single,
  backgroundcolor=\color{graybg},
  literate=
   *{0}{{{\color{numbercolor}0}}}{1}
    {1}{{{\color{numbercolor}1}}}{1}
    {2}{{{\color{numbercolor}2}}}{1}
    {3}{{{\color{numbercolor}3}}}{1}
    {4}{{{\color{numbercolor}4}}}{1}
    {5}{{{\color{numbercolor}5}}}{1}
    {6}{{{\color{numbercolor}6}}}{1}
    {7}{{{\color{numbercolor}7}}}{1}
    {8}{{{\color{numbercolor}8}}}{1}
    {9}{{{\color{numbercolor}9}}}{1}
    {:}{{{\color{keywordcolor}{:}}}}{1}
    {,}{{{\color{keywordcolor}{,}}}}{1}
    {"}{{{\color{stringcolor}{"}}}}{1}
    {[}{{{\color{keywordcolor}{[}}}}{1}
    {]}{{{\color{keywordcolor}{]}}}}{1}
    {\{}{{{\color{keywordcolor}{\{}}}}{1}
    {\}}{{{\color{keywordcolor}{\}}}}}{1}
}

\lstset{
    language=Java,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{keywordcolor}\bfseries,
    commentstyle=\color{commentcolor},
    stringstyle=\color{stringcolor},
    showstringspaces=false,
    numbers=left,
    numberstyle=\tiny\color{gray},
    tabsize=2,
    breaklines=true,
    backgroundcolor=\color{graybg},
    frame=single,
    framerule=0pt,
    inputencoding=utf8,
    extendedchars=true
}

% --- Title Info ---
\title{Assignment 3 (Hugbo) -- Construction 1}
\author{Helgi Freyr Davíðsson (hfd2)}
\date{October 2025}

\begin{document}
\maketitle

\section*{Link to GitHub Repository}
\texttt{https://github.com/Reynirjr/Hugbo1-team16}
\newpage
\section*{UC4 -- View Menu}

\textbf{GET} \texttt{http://localhost:8080/api/menus/1}

In this case, we are getting the first menu we created (a dummy menu) that returns a JSON:
\begin{lstlisting}[language=json]
{
  "id": 1,
  "name": "Main Menu",
  "currency": "ISK",
  "sections": [
    {
      "id": 1,
      "name": "Burgers",
      "displayOrder": 1,
      "items": [
        {
          "id": 2,
          "name": "Veggie Burger",
          "description": "Black bean patty",
          "priceIsk": 1790,
          "available": true,
          "tags": ["veg"],
          "imageData": null
        }
      ]
    }
  ]
}
\end{lstlisting}

\section*{UC1 -- Place Order}

When placing an order, we use the \textbf{POST} method:

\texttt{POST http://localhost:8080/api/baskets}

to create a basket with a unique basketId:
\begin{lstlisting}[language=json]
{
  "basketId": "8dbd0028-9c2c-4040-a590-4903212e70a0",
  "items": [],
  "createdAt": "2025-10-19T17:02:39.937Z"
}
\end{lstlisting}

\section*{UC5 -- Sign In}

When logging in, we use:
\begin{lstlisting}
POST http://localhost:8080/api/auth/login
\end{lstlisting}

Example request:
\begin{lstlisting}[language=json]
{
  "username": "admin",
  "password": "admin123"
}
\end{lstlisting}

Response:
\begin{lstlisting}[language=json]
{
  "token": "eyJhbGciOiJIUzI1NiJ9...",
  "username": "admin"
}
\end{lstlisting}

\section*{UC2 -- Manage Menu}

You must authenticate as an admin using the bearer token from UC5.

To create a new item:
\begin{lstlisting}
POST http://localhost:8080/api/menus/1/items
\end{lstlisting}

Body:
\begin{lstlisting}[language=json]
{
  "name": "Classic Burger",
  "description": "Beef, cheese, lettuce",
  "priceIsk": 1990,
  "available": true,
  "tags": ["beef", "popular"],
  "sectionId": 1
}
\end{lstlisting}

\section*{UC7 -- Adjust Opening Hours \& Exceptions}

To view opening hours:
\begin{lstlisting}
GET http://localhost:8080/api/hours
\end{lstlisting}

Example body:
\begin{lstlisting}[language=json]
{
  "weekday": "MONDAY",
  "openTime": "08:00",
  "closeTime": "17:00"
}
\end{lstlisting}

\section*{UC9 -- View Order Status}

\begin{lstlisting}
GET http://localhost:8080/api/orders/2
\end{lstlisting}

Response:
\begin{lstlisting}[language=json]
{
  "id": 2,
  "createdAt": "2025-10-15T17:16:54.806Z",
  "basketId": "fabcee45-204d-434e-a42a-3a685a2fb6c3",
  "customerPhone": "5551234",
  "status": "RECEIVED",
  "totalIsk": 5200
}
\end{lstlisting}

\section*{Brief Notes}

The project is nearing completion, with most major use cases implemented and verified through local testing. Core features such as authentication, menu management, basket operations, and order handling are functional and stable. The backend runs locally, and deployment to Render with PostgreSQL is currently being prepared.

\subsection*{Progress}
\begin{itemize}
    \item Completed authentication and role-based access control.
    \item Menu management (UC2), order placement (UC1), and queue time updates (UC3) are fully functional.
    \item Opening hours and exceptions (UC7) implemented and tested.
    \item UC9 (View Order Status) verified via Postman.
\end{itemize}

\subsection*{Outstanding Work}
\begin{itemize}
    \item UC6 (Sales Report): Next to develop, including totals and item popularity.
    \item Image Uploads: To be tested and integrated with frontend.
    \item Database Deployment: PostgreSQL migration to Render in progress.
\end{itemize}

\subsection*{Reason for Delay (UC6)}
UC6 (Sales Report) was considered a secondary feature compared to the main operational use cases. The team focused first on delivering the essential end-to-end functionality for customers and staff—such as ordering, menu management, and queue handling—before adding analytics. This ensures the system is stable before expanding functionality.

\subsection*{Next Steps}
\begin{itemize}
    \item Deploy and connect backend to Render PostgreSQL.
    \item Implement UC6 (Sales Report).
    \item Add image upload endpoints and test via Postman.
    \item Conduct final integration testing and prepare for demo.
\end{itemize}

\end{document}
